<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta name="baidu-site-verification" content="Y1BuCj8QZI" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="每天进步一点">
<meta property="og:type" content="website">
<meta property="og:title" content="记录点滴成长">
<meta property="og:url" content="http://jianwl.com/page/8/index.html">
<meta property="og:site_name" content="记录点滴成长">
<meta property="og:description" content="每天进步一点">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="记录点滴成长">
<meta name="twitter:description" content="每天进步一点">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://jianwl.com/page/8/"/>

  <title> 记录点滴成长 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">记录点滴成长</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            书单
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/11/锋利的JQuery-Ajax/" itemprop="url">
                  锋利的JQuery -- Ajax
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-11T23:34:28+08:00" content="2016-08-11">
              2016-08-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/11/锋利的JQuery-Ajax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/11/锋利的JQuery-Ajax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Ajax的优劣"><a href="#Ajax的优劣" class="headerlink" title="Ajax的优劣"></a>Ajax的优劣</h3><p>优点</p>
<ul>
<li>不需要插件支持</li>
<li>优秀的用户体验</li>
<li>提高web程序的性能</li>
<li>减轻服务器和带宽的压力</li>
</ul>
<p>缺点</p>
<ul>
<li>浏览器对XHLHttpRequest支持度不够</li>
<li>破坏浏览器的前进、后退按钮</li>
<li>对搜索引擎的支持不足</li>
<li>开发和调试工具的匮乏</li>
</ul>
<h3 id="Ajax方法"><a href="#Ajax方法" class="headerlink" title="Ajax方法"></a>Ajax方法</h3><table>
<thead>
<tr>
<th style="text-align:left">方法</th>
<th style="text-align:left">示例</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">load()</td>
<td style="text-align:left">load(url,data,callback)</td>
<td style="text-align:left">载入HTML文档</td>
</tr>
<tr>
<td style="text-align:left">get()</td>
<td style="text-align:left">$.get(url,data,callback,type)</td>
<td style="text-align:left">GET方式发送请求</td>
</tr>
<tr>
<td style="text-align:left">post</td>
<td style="text-align:left">$.post(url,data,callback,type)</td>
<td style="text-align:left">POST方式发送请求</td>
</tr>
<tr>
<td style="text-align:left">getScript</td>
<td style="text-align:left">$.getScript(‘test.js’,callback)</td>
<td style="text-align:left">动态加载js</td>
</tr>
<tr>
<td style="text-align:left">getJSON()</td>
<td style="text-align:left">$.getJSON(‘test.json’,function(data){})</td>
<td style="text-align:left">加载JSON,data为JSON内容</td>
</tr>
</tbody>
</table>
<p><strong>ajax()为最常用、最基本的方法，常用参数:</strong></p>
<ul>
<li><code>url</code> 请求的地址</li>
<li><code>type</code> 请求的类型，默认GET</li>
<li><code>timeout</code> 超时时间</li>
<li><code>data</code> 请求的数据</li>
<li><code>dataType</code> 返回数据类型</li>
<li><code>success</code> 成功回调</li>
<li><code>error</code> 失败回调</li>
<li><code>complete</code> 完成回调</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/11/锋利的Query-选择器/" itemprop="url">
                  锋利的Query -- 选择器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-11T19:13:30+08:00" content="2016-08-11">
              2016-08-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/11/锋利的Query-选择器/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/11/锋利的Query-选择器/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">E{CSS}</td>
<td style="text-align:left">标签选择器</td>
</tr>
<tr>
<td style="text-align:left">#ID{CSS}</td>
<td style="text-align:left">id选择器</td>
</tr>
<tr>
<td style="text-align:left">E.className{CSS}</td>
<td style="text-align:left">类选择器</td>
</tr>
<tr>
<td style="text-align:left">E1，E2，E3{CSS}</td>
<td style="text-align:left">群组选择器</td>
</tr>
<tr>
<td style="text-align:left">E F{CSS}</td>
<td style="text-align:left">后代选择器</td>
</tr>
<tr>
<td style="text-align:left">*{CSS}</td>
<td style="text-align:left">统配选择器</td>
</tr>
</tbody>
</table>
<h3 id="基本选择器"><a href="#基本选择器" class="headerlink" title="基本选择器"></a>基本选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“#one”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变id为one的元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“.one”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变class为one的元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变元素名为div的元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“*”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变所有元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“span. #one”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变所有span和id为one的元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="层次选择器"><a href="#层次选择器" class="headerlink" title="层次选择器"></a>层次选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“body div”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变<body>内所有div的背景色</body></td>
</tr>
<tr>
<td style="text-align:left">$(“body &gt;div”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变<body>内子div的背景色</body></td>
</tr>
<tr>
<td style="text-align:left">$(“.one + div”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变class为one的下一个div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“#two ~ div”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变id为two的后面的所有同辈div元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="内容过滤选择器"><a href="#内容过滤选择器" class="headerlink" title="内容过滤选择器"></a>内容过滤选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“div:contains(di)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变 含有文本di的div元素背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div:empty”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变不包含子元素的div的空元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div:has(“.mini”)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变class为mini元素的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div:parent”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有子元素的div元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="可见性过滤选择器"><a href="#可见性过滤选择器" class="headerlink" title="可见性过滤选择器"></a>可见性过滤选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“div:visible”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变所有可见的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div:hidden”).show(3000)</td>
<td style="text-align:left">显示所有隐藏的div元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="属性过滤选择器"><a href="#属性过滤选择器" class="headerlink" title="属性过滤选择器"></a>属性过滤选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“div[title]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title!=test]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title不等于test的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title^=te]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title以te开头的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title$=est]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title以est结尾的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title*=es]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title含有es的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[id][title*=es]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性id,并且title含有es的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title=’en’]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title等于en或者以en为前缀(en-xxx)的的div元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div[title~=’uk’]”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变含有属性title用空格分隔的值中包含字符uk的div元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="子元素过滤选择器"><a href="#子元素过滤选择器" class="headerlink" title="子元素过滤选择器"></a>子元素过滤选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“div.one:nth-child(2)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变每个class为one的div父元素下的第二个子元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div.one:first-child)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变每个class为one的div父元素中的第一个子元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div.one:last-child)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变每个class为one的div父元素中的最后一个子元素的背景色</td>
</tr>
<tr>
<td style="text-align:left">$(“div.one:only-child)”).css(“background”,”#bbffaa”)</td>
<td style="text-align:left">改变每个class为one的div父元素下只有一个子元素，则改变该子元素的背景色</td>
</tr>
</tbody>
</table>
<h3 id="表单对象属性过滤选择器"><a href="#表单对象属性过滤选择器" class="headerlink" title="表单对象属性过滤选择器"></a>表单对象属性过滤选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“form1 input:enabled”).val(“这里变化了!”)</td>
<td style="text-align:left">改变表单内可用input元素的值</td>
</tr>
<tr>
<td style="text-align:left">$(“form1 input:disabled”).val(“这里变化了!”)</td>
<td style="text-align:left">改变表单内不可用input元素的值</td>
</tr>
<tr>
<td style="text-align:left">$(“input:checked”).length</td>
<td style="text-align:left">改变多选框中的个数</td>
</tr>
<tr>
<td style="text-align:left">$(“select:selected”).text()</td>
<td style="text-align:left">获取下拉框选中的内容</td>
</tr>
</tbody>
</table>
<h3 id="表单选择器"><a href="#表单选择器" class="headerlink" title="表单选择器"></a>表单选择器</h3><table>
<thead>
<tr>
<th style="text-align:left">操作</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">$(“#form1 :input”)</td>
<td style="text-align:left">获得表单中所有的input、textarea、select、button元素</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :text”)</td>
<td style="text-align:left">获得所有的单行文本框</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :password”)</td>
<td style="text-align:left">获得所有的密码框</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :radio”)</td>
<td style="text-align:left">获得所有的单选框</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :checkbox”)</td>
<td style="text-align:left">获得所有的多选框</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :submit”)</td>
<td style="text-align:left">获得所有的提交按钮</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :image”)</td>
<td style="text-align:left">获得所有的图片按钮</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :reset”)</td>
<td style="text-align:left">获得所有的重置按钮</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :button”)</td>
<td style="text-align:left">获得所有的按钮</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :file”)</td>
<td style="text-align:left">获得所有的上传域</td>
</tr>
<tr>
<td style="text-align:left">$(“#form1 :hidden”)</td>
<td style="text-align:left">获得所有的不可见元素</td>
</tr>
</tbody>
</table>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ol>
<li>锋利的JQuery（第2版）</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/11/Java设计模式之模板方法模式/" itemprop="url">
                  Java设计模式之模板方法模式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-11T17:30:24+08:00" content="2016-08-11">
              2016-08-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/11/Java设计模式之模板方法模式/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/11/Java设计模式之模板方法模式/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="场景定义"><a href="#场景定义" class="headerlink" title="场景定义"></a>场景定义</h3><p>星巴克咖啡师傅训练手册，饮料的冲泡方法。<br><strong>星巴玆咖啡冲泡法</strong></p>
<ol>
<li>把水煮沸</li>
<li>把沸水冲泡咖啡</li>
<li>把咖啡倒进杯子</li>
<li>加糖和牛奶</li>
</ol>
<p><strong>星巴玆茶冲泡法</strong></p>
<ol>
<li>把水煮沸</li>
<li>用沸水浸泡茶叶</li>
<li>把茶倒进杯子</li>
<li>加柠檬</li>
</ol>
<h3 id="不考虑设计模式的做法"><a href="#不考虑设计模式的做法" class="headerlink" title="不考虑设计模式的做法"></a>不考虑设计模式的做法</h3><p>Coffee.class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class Coffee &#123;</div><div class="line">    //咖啡冲泡法</div><div class="line">    void prepareRecipe() &#123;</div><div class="line">        boilWater();</div><div class="line">        brewCoffeeCrinds();</div><div class="line">        pourInCup();</div><div class="line">        addSugarAndMilk();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void boilWater() &#123;</div><div class="line">        System.out.println(&quot;Boiling water&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void brewCoffeeCrinds() &#123;</div><div class="line">        System.out.println(&quot;Dripping Coffee through filter&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void pourInCup() &#123;</div><div class="line">        System.out.println(&quot;Pouring into cup&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void addSugarAndMilk() &#123;</div><div class="line">        System.out.println(&quot;Adding sugar and milk&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Tea.class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">public class Tea &#123;</div><div class="line">    //茶冲泡法</div><div class="line">    void prepareRecipe() &#123;</div><div class="line">        boilWater();</div><div class="line">        steepTeaBag();</div><div class="line">        pourInCup();</div><div class="line">        addLemon();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void boilWater() &#123;</div><div class="line">        System.out.println(&quot;Boiling water&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void steepTeaBag() &#123;</div><div class="line">        System.out.println(&quot;Steeping the tea&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void pourInCup() &#123;</div><div class="line">        System.out.println(&quot;Pouring into cup&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void addLemon() &#123;</div><div class="line">        System.out.println(&quot;Adding Lemon&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Coffee和Tea两个类的实现很像，除了第2和第4个步骤不一样，基本上是相同的，出现了重复的代码，我们将通过模板方法模式来删除重复代码。</p>
<h3 id="使用设计模式的做法"><a href="#使用设计模式的做法" class="headerlink" title="使用设计模式的做法"></a>使用设计模式的做法</h3><ol>
<li><p>两份冲泡法都采用相同的算法，我们将抽象化prepareReceipe方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">void prepareRecipe() &#123;</div><div class="line">    boilWater();</div><div class="line">    brew();</div><div class="line">    pourInCup();</div><div class="line">    addCondiments();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>定义一个抽象类CaffeineBeverage，相同的模块有具体实现，不同的模块定义为抽象方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">public abstract class CoffeineBeverage &#123;</div><div class="line">    //子类不能覆盖这个方法</div><div class="line">    final void prepareRecipe()&#123;</div><div class="line">        boilWater();</div><div class="line">        brew();</div><div class="line">        pourInCup();</div><div class="line">        addCondiments();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public abstract void brew() ;</div><div class="line"></div><div class="line">    public abstract void addCondiments();</div><div class="line"></div><div class="line">    public void boilWater() &#123;</div><div class="line">        System.out.println(&quot;Boiling water&quot;);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    public void pourInCup() &#123;</div><div class="line">        System.out.println(&quot;Pouring into cup&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Coffee和Tea继承抽象类，自行处理冲泡和添加调料部分<br>Coffee.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class Coffee extends CoffeineBeverage&#123;</div><div class="line">    @Override</div><div class="line">    public void brew() &#123;</div><div class="line">        System.out.println(&quot;Boiling water&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void addCondiments() &#123;</div><div class="line">        System.out.println(&quot;Adding sugar and milk&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<p>Tea.class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">public class Tea extends CoffeineBeverage&#123;</div><div class="line">    @Override</div><div class="line">    public void brew() &#123;</div><div class="line">        System.out.println(&quot;Steeping the tea&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void addCondiments() &#123;</div><div class="line">        System.out.println(&quot;Add Lemon&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="什么是模板方法模式？"><a href="#什么是模板方法模式？" class="headerlink" title="什么是模板方法模式？"></a>什么是模板方法模式？</h3><p>至此你已经了解如何使用模板方法模式了，接下来让我们了解一下，模板方法的定义。<br><strong>模板方法定义</strong><br>在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤。</p>
<p><strong>使用场景</strong><br>这个模式是用来创建一个算法模板，什么是模板？模板是一个方法，这个方法将算法定义成一组步骤，其中的任何步骤都可以是抽象的，由子类负责实现，这可以确保算法的结构保持不变，同时由子类提供部分实现。</p>
<h3 id="延伸"><a href="#延伸" class="headerlink" title="延伸"></a>延伸</h3><p><strong>如果我不想要在饮料中添加调料，怎么做呢？</strong> 可以对模板方法进行挂钩，在抽象方法中声明钩子。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">public abstract class CoffeineBeverage &#123;</div><div class="line">    //子类不能覆盖这个方法</div><div class="line">    final void prepareRecipe()&#123;</div><div class="line">        boilWater();</div><div class="line">        brew();</div><div class="line">        pourInCup();</div><div class="line">        if(customerWantsCondiments()) &#123;</div><div class="line">            addCondiments();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    // 子类可以覆盖这个方法</div><div class="line">    public  boolean customerWantsCondiments()&#123;</div><div class="line">        return true;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public abstract void brew() ;</div><div class="line"></div><div class="line">    public abstract void addCondiments();</div><div class="line"></div><div class="line">    public void boilWater() &#123;</div><div class="line">        System.out.println(&quot;Boiling water&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void pourInCup() &#123;</div><div class="line">        System.out.println(&quot;Pouring into cup&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li>Head First 设计模式</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/10/Java-IO-文件/" itemprop="url">
                  Java IO: 文件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-10T17:09:21+08:00" content="2016-08-10">
              2016-08-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/10/Java-IO-文件/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/10/Java-IO-文件/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="读文件"><a href="#读文件" class="headerlink" title="读文件"></a>读文件</h3><p>如果你需要在不同端之间读取文件，你可以根据该文件是二进制文件/文本文件来选择使用<code>FileInputStream</code>/<code>FileReader</code>。这两个类允许你从文件开始到文件末尾读取一个字节/字符，或者将读取到的字节/字符。你不必一次性读取整个文件，你可以按顺序读取文件中的字节和字符。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public class FileInputStreamDemo &#123;</div><div class="line">    public static void main(String[] args) &#123;</div><div class="line">        try &#123;</div><div class="line">            //新建一个FileInputStream对象</div><div class="line">            FileInputStream input = new FileInputStream(new File(&quot;D:\\input.txt&quot;));</div><div class="line"></div><div class="line">            // 文件的字节数</div><div class="line">            Integer size = input.available(); </div><div class="line">            byte[] b = new byte[size];</div><div class="line">            </div><div class="line">            //将文件中的内容读取到数组中</div><div class="line">            input.read(b);</div><div class="line">            input.close();</div><div class="line">            System.out.println(new String(b));</div><div class="line">        &#125; catch (Exception e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="写文件"><a href="#写文件" class="headerlink" title="写文件"></a>写文件</h3><p>如果你需要在不同端之间读取文件，你可以根据该文件是二进制文件/文本文件来选择使用<code>FileInputStream</code>/<code>FileReader</code>。这两个类允许你从文件开始到文件末尾读取一个字节/字符，或者将读取到的字节/字符。你不必一次性读取整个文件，你可以按顺序读取文件中的字节和字符。</p>
<h3 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/10/Java-IO概述/" itemprop="url">
                  Java IO概述
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-10T16:11:52+08:00" content="2016-08-10">
              2016-08-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/10/Java-IO概述/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/10/Java-IO概述/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="JAVA-IO-是什么？"><a href="#JAVA-IO-是什么？" class="headerlink" title="JAVA IO 是什么？"></a>JAVA IO 是什么？</h3><p>Java IO是一套Java用来读写数据的API，大部分程序都需要处理一些输入并由输入产生一些输出，为此Java提供了java.io包。</p>
<h3 id="Java-io包的范围"><a href="#Java-io包的范围" class="headerlink" title="Java.io包的范围"></a>Java.io包的范围</h3><p>java.io包并没有涵盖所有输入输出类型，例如不包含GUI或网页上的读写。其主要涉及文件、网络数据流、内存缓冲等的读写。</p>
<h3 id="Java-IO的用途和特征"><a href="#Java-IO的用途和特征" class="headerlink" title="Java IO的用途和特征"></a>Java IO的用途和特征</h3><p>Java IO中包含许多InputStream、OutputStream、Reader、Writer的子类，这样设计的原因是让每一个类都负责不同的功能，各类用途汇总如下：</p>
<ul>
<li>文件访问</li>
<li>网络访问</li>
<li>内存缓冲访问</li>
<li>线程内部通信（管道）</li>
<li>缓冲</li>
<li>解析</li>
<li>读写文本（Readers/Writers）</li>
<li>读写基本类型数据</li>
<li>读写对象</li>
</ul>
<h3 id="Java-IO类概述表"><a href="#Java-IO类概述表" class="headerlink" title="Java IO类概述表"></a>Java IO类概述表</h3><p><img src="../images/java-io.png" alt=""></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/07/Spring-Test单元测试/" itemprop="url">
                  Spring Test单元测试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-07T22:08:31+08:00" content="2016-08-07">
              2016-08-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Spring/" itemprop="url" rel="index">
                    <span itemprop="name">Spring</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/07/Spring-Test单元测试/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/07/Spring-Test单元测试/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="单元测试的好处？"><a href="#单元测试的好处？" class="headerlink" title="单元测试的好处？"></a>单元测试的好处？</h3><ul>
<li>缩短发现问题到解决问题的速度</li>
<li>验证程序修改后是否正确</li>
<li>如果是开源软件，通过单元测试可以了解软件是怎么使用的</li>
</ul>
<h3 id="Spring-Boot-Test常用注解"><a href="#Spring-Boot-Test常用注解" class="headerlink" title="Spring Boot Test常用注解"></a>Spring Boot Test常用注解</h3><p>当前使用SpringBoot的版本为1.4.0 Release</p>
<ul>
<li>@RunWith(SpringRunner.class) <code>运行Junit并支持Spring-test特性</code></li>
<li><p>@SpringBootTest  <code>为springApplication创建上下文并支持SpringBoot特性</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@SpringBootTest的webEnvironment属性有以下4种</div><div class="line">1、Mock —— 加载WebApplicationContext并提供Mock Servlet环境</div><div class="line">2、RANDOOM_PORT —— 加载EmbeddedWebApplicationContext并提供servlet环境，内嵌服务的监听端口是随机的</div><div class="line">3、DEFINED_PORT —— 加载EmbeddedWebApplicationContext并提供servlet环境，内容服务的监听端口是定义好的。默认端口是8080</div><div class="line">4、NONE —— 加载ApplicationContext，启动SpringApplication时，不支持Servlet环境</div></pre></td></tr></table></figure>
</li>
<li><p>@MockBean <code>声明需要模拟的服务</code></p>
</li>
<li><p>@SpyBean <code>定制化需要模拟服务的某个方法，即部分方法可以mock，部分方法可以调用真实方法</code></p>
</li>
<li><p>@WebMvcTest <code>自动加载Spring MVC配置、MockMvc配置、并扫描注解类</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">在没有@WebMvcTest注解时，使用@AutoConfiureMockMvc可以自动配置MockMvc;</div></pre></td></tr></table></figure>
</li>
<li><p>@Transaction <code>开启事务，回滚测试方法对数据库的改变</code></p>
</li>
</ul>
<h3 id="SpringBoot-Test-实战"><a href="#SpringBoot-Test-实战" class="headerlink" title="SpringBoot Test 实战"></a>SpringBoot Test 实战</h3><ul>
<li><p>使用Mock，对Controller层接口进行测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">@RunWith(SpringRunner.class)</div><div class="line">@WebMvcTest(UserController.class)</div><div class="line">public class UserControllerTest &#123;</div><div class="line">    @Autowired</div><div class="line">    private MockMvc mockMvc;</div><div class="line"></div><div class="line">    @MockBean</div><div class="line">    private UserService userService;</div><div class="line"></div><div class="line">    @Before</div><div class="line">    public void mockUserService()&#123;</div><div class="line">        User user = new User(1,&quot;liuyun&quot;,&quot;123456&quot;);</div><div class="line">        given(userService.add(user)).willReturn(true);</div><div class="line">        given(userService.selectById(1)).willReturn(user);</div><div class="line">     given(userService.selectAll()).willReturn(Arrays.asList(user));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    /**</div><div class="line">     * 用户列表</div><div class="line">     */</div><div class="line">    @Test</div><div class="line">    public void listTest() throws Exception &#123;</div><div class="line">        mockMvc.perform(get(&quot;/list&quot;)</div><div class="line">                .accept(MediaType.APPLICATION_JSON))</div><div class="line">                .andDo(print())</div><div class="line">                .andExpect(status().isOk());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>使用mock，模拟对数据库的操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringRunner.class)</div><div class="line">@SpringBootTest</div><div class="line">public class UserServiceTest &#123;</div><div class="line"></div><div class="line">    @MockBean</div><div class="line">    private UserDao userDao;</div><div class="line"></div><div class="line">    @Autowired</div><div class="line">    private UserService userService;</div><div class="line"></div><div class="line">    @Before</div><div class="line">    public void initUserDao()&#123;</div><div class="line">        given(this.userDao.selectAll()).willReturn(Arrays.asList(new User(12231,&quot;zhangsan&quot;,&quot;234&quot;)));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void listTest()&#123;</div><div class="line">        List&lt;User&gt; users = userService.selectAll();</div><div class="line">        log.info(new Gson().toJson(users));</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>回滚测试方法对数据库状态的影响</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringRunner.class)</div><div class="line">@SpringBootTest</div><div class="line">public class TransactionTest &#123;</div><div class="line">    @Autowired</div><div class="line">    private UserService userSerivce;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    @Transactional</div><div class="line">    public void add() throws Exception &#123;</div><div class="line">        //初始化用户表</div><div class="line">        userSerivce.deleteAll();</div><div class="line"></div><div class="line">        // 新增2个用户</div><div class="line">        userSerivce.add(new User(1,&quot;liuyun&quot;,&quot;123456&quot;));</div><div class="line">        userSerivce.add(new User(2,&quot;xiaofeng&quot;,&quot;123456&quot;));</div><div class="line">        Assert.assertEquals(2, userSerivce.selectAll().size());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个测试方法的功能是，往数据库中添加两条记录，加上@Transaction注解后，执行完测试方法，数据库状态将自动回滚到执行这个方法前的状态。</p>
</li>
</ul>
<h3 id="JUnit常用注解"><a href="#JUnit常用注解" class="headerlink" title="JUnit常用注解"></a>JUnit常用注解</h3><ul>
<li>@Before 、@After <code>测试方法前/后运行</code></li>
<li>@BeforeClass 、@AfterClass <code>测试类前/后运行，为静态方法</code></li>
<li>@Test @ignore(“reason”) <code>忽略此测试方法</code></li>
<li>@Test(timeout=1) <code>测试方法运行时间超过1毫秒，则自动失败</code></li>
</ul>
<h3 id="JUnit常用注解实战"><a href="#JUnit常用注解实战" class="headerlink" title="JUnit常用注解实战"></a>JUnit常用注解实战</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringRunner.class)</div><div class="line">@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)</div><div class="line">public class CommonAnnatationTest &#123;</div><div class="line">    @Before</div><div class="line">    public void before() &#123;</div><div class="line">        log.info(&quot;before&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @After</div><div class="line">    public void after() &#123;</div><div class="line">        log.info(&quot;after&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @BeforeClass</div><div class="line">    public static void beforeClass() &#123;</div><div class="line">        log.info(&quot;beforeClass&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @AfterClass</div><div class="line">    public static void afterClass() &#123;</div><div class="line">        log.info(&quot;afterClass&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void test_a() &#123;</div><div class="line">        log.info(&quot;test_a&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Ignore(&quot;废弃方法&quot;)</div><div class="line">    @Test</div><div class="line">    public void test_ignore() &#123;</div><div class="line">        log.info(&quot;ignore&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test(timeout = 1)</div><div class="line">    public void test_timeout() &#123;</div><div class="line">        Integer count = 0;</div><div class="line">        do &#123;</div><div class="line">            count++;</div><div class="line">        &#125; while (count &gt; 0);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="JUnit常用测试类型"><a href="#JUnit常用测试类型" class="headerlink" title="JUnit常用测试类型"></a>JUnit常用测试类型</h3><ul>
<li><p>集合测试 </p>
<p>SuiteA.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@SpringBootTest</div><div class="line">public class SuiteA &#123;</div><div class="line">    @Test</div><div class="line">    public void test_a()&#123;</div><div class="line">        log.info(&quot;A&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void test_b()&#123;</div><div class="line">        log.info(&quot;B&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SuiteB.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringJUnit4ClassRunner.class)</div><div class="line">@SpringBootTest</div><div class="line">public class SuiteB &#123;</div><div class="line">    @Test</div><div class="line">    public void test_c()&#123;</div><div class="line">        log.info(&quot;C&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    public void test_d()&#123;</div><div class="line">        log.info(&quot;D&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SuiteTest.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@RunWith(Suite.class)</div><div class="line">@Suite.SuiteClasses(&#123;SuiteA.class,SuiteB.class&#125;)</div><div class="line">@SpringBootTest</div><div class="line">public class SuiteTest &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行SuiteTest,将测试SuiteA、SuiteB的所有测试方法</p>
</li>
<li><p>单元目录测试</p>
<p>目录1：Fruit.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">public interface Drinking &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>目录2：Drinking.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">public interface Drinking &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>CategoryTest.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;!-- @Slf4j 是lombok注解--&gt;</div><div class="line">@Slf4j</div><div class="line">@RunWith(SpringRunner.class)</div><div class="line">@SpringBootTest</div><div class="line">public class CategoryTest &#123;</div><div class="line">    @Test</div><div class="line">    @Category(Fruit.class)</div><div class="line">    public void getFruitName() &#123;</div><div class="line">        log.info(&quot;I am Banana!&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Test</div><div class="line">    @Category(Drinking.class)</div><div class="line">    public void getDrinkingName() &#123;</div><div class="line">        log.info(&quot;I am water!&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SuiteCategoriesTest.class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@RunWith(Categories.class)</div><div class="line">@Suite.SuiteClasses(&#123;CategoryTest.class&#125;)</div><div class="line">@Categories.IncludeCategory(Fruit.class)</div><div class="line">@SpringBootTest</div><div class="line">public class SuiteCategoriesTest &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行SuiteCategoriesTest,将会运行CategoryTest测试类下，getFruitName()方法。</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/07/Intellij-IDEA常用技巧/" itemprop="url">
                  Intellij IDEA常用技巧
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-08-07T21:22:41+08:00" content="2016-08-07">
              2016-08-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Intellij-IDEA/" itemprop="url" rel="index">
                    <span itemprop="name">Intellij IDEA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/07/Intellij-IDEA常用技巧/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/07/Intellij-IDEA常用技巧/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-自动import包"><a href="#1-自动import包" class="headerlink" title="1. 自动import包"></a>1. 自动import包</h3><p>在工程维护中，代码改动常常会产生一些无用的import或者需要import新的包，Intellij中提供自动import或移除无用包的功能；</p>
<ul>
<li>Optimize import on the fly 主动移除无用的import</li>
<li>Add unambiguous imports on the fly  主动导入所需的包</li>
</ul>
<p><img src="../images/IDEA技巧.png" alt=""></p>
<h3 id="未完待续…"><a href="#未完待续…" class="headerlink" title="未完待续…"></a>未完待续…</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/24/retrofit2入门篇/" itemprop="url">
                  retrofit2入门篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-24T09:28:35+08:00" content="2016-06-24">
              2016-06-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/HTTP/" itemprop="url" rel="index">
                    <span itemprop="name">HTTP</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/24/retrofit2入门篇/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/24/retrofit2入门篇/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Retrofit是什么？"><a href="#Retrofit是什么？" class="headerlink" title="Retrofit是什么？"></a>Retrofit是什么？</h4><blockquote>
<p>A type-safe HTTP client for Android and Java</p>
</blockquote>
<p>你将会用注解去描述HTTP请求，同时Retrofit默认集成URL参数替换和参数查询，并支持Multipart请求和文件上传。</p>
<h4 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;dependency&gt;</div><div class="line">  &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;</div><div class="line">  &lt;artifactId&gt;retrofit&lt;/artifactId&gt;</div><div class="line">  &lt;version&gt;2.1.0&lt;/version&gt;</div><div class="line">&lt;/dependency&gt;</div></pre></td></tr></table></figure>
<h4 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h4><ul>
<li><p>创建Retrofit实例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">package com.example.xingren;</div><div class="line"></div><div class="line">import retrofit2.Call;</div><div class="line">import retrofit2.Retrofit;</div><div class="line">import retrofit2.converter.gson.GsonConverterFactory;</div><div class="line">import java.io.IOException;</div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Created by weilin on 29/6/2016.</div><div class="line"> */</div><div class="line">public class RetrofitDemo &#123;</div><div class="line">    private static final String BASE_URL = &quot;https://api.github.com&quot;;</div><div class="line">    public static void main(String[] args) throws IOException &#123;</div><div class="line">        Retrofit retrofit = new Retrofit.Builder()</div><div class="line">                .baseUrl(BASE_URL)</div><div class="line">                .addConverterFactory(GsonConverterFactory.create())</div><div class="line">                .build();</div><div class="line"></div><div class="line">        // create instance for githubApi</div><div class="line">        GithubAPI github = retrofit.create(GithubAPI.class);</div><div class="line">        Call&lt;List&lt;ContributorsQO&gt;&gt; call = github.contributors(&quot;shuangziliuyun&quot;,&quot;spring-boot-thymeleaf&quot;);</div><div class="line">        List&lt;ContributorsQO&gt; all = call.execute().body();</div><div class="line">        all.forEach(contributor -&gt; &#123;</div><div class="line">            System.out.println(&quot;name = &quot; + contributor.getLogin() + &quot; starts = &quot; + contributor.getContributions());</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>定义接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">package com.example.xingren;</div><div class="line"></div><div class="line">import retrofit2.Call;</div><div class="line">import retrofit2.http.GET;</div><div class="line">import retrofit2.http.Path;</div><div class="line">import java.util.List;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Created by weilin on 29/6/2016.</div><div class="line"> */</div><div class="line">public interface GithubAPI &#123;</div><div class="line">    @GET(&quot;/repos/&#123;owner&#125;/&#123;repo&#125;/contributors&quot;)</div><div class="line">    Call&lt;List&lt;ContributorsQO&gt;&gt; contributors(</div><div class="line">            @Path(&quot;owner&quot;) String owner,</div><div class="line">            @Path(&quot;repo&quot;) String repo);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>模型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">package com.example.xingren;</div><div class="line"></div><div class="line">/**</div><div class="line"> * Created by weilin on 29/6/2016.</div><div class="line"> */</div><div class="line">public class ContributorsQO &#123;</div><div class="line">    private String login;</div><div class="line">    private Integer contributions;</div><div class="line"></div><div class="line">    public Integer getContributions() &#123;</div><div class="line">        return contributions;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setContributions(Integer contributions) &#123;</div><div class="line">        this.contributions = contributions;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public String getLogin() &#123;</div><div class="line">        return login;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public void setLogin(String login) &#123;</div><div class="line">        this.login = login;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h4><ol>
<li><p><a href="http://yaohepeng.com/2016/03/31/Retrofit%E5%85%A5%E9%97%A8%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" target="_blank" rel="external">Retrofit入门使用教程</a></p>
</li>
<li><p><a href="https://github.com/square/retrofit" target="_blank" rel="external">Retrofit官网</a></p>
<p>​</p>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/24/Hystrix入门篇/" itemprop="url">
                  Hystrix入门篇
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-24T09:28:10+08:00" content="2016-06-24">
              2016-06-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Hystrix/" itemprop="url" rel="index">
                    <span itemprop="name">Hystrix</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/24/Hystrix入门篇/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/24/Hystrix入门篇/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Hystrix是什么？"><a href="#Hystrix是什么？" class="headerlink" title="Hystrix是什么？"></a>Hystrix是什么？</h4><p>Hystrix是Netflix针对微服务分布式系统的熔断保护中间件，在分布式环境中，难免有些服务依赖会失败，通过Hystrix可以添加延迟容忍和容错逻辑，控制这些分布式服务之间的交互。同时设计隔离访问远程服务端点，防止级联爆炸式的失败，能够让复杂的分布式系统更加灵活具有弹性。</p>
<h4 id="Hystrix能够做些什么？"><a href="#Hystrix能够做些什么？" class="headerlink" title="Hystrix能够做些什么？"></a>Hystrix能够做些什么？</h4><ul>
<li>通过第三方客户端库对访问的依赖关系的延迟和失败给予保护和控制（通过是网络上）</li>
<li>在复杂的分布式系统中停止级联故障</li>
<li>快速失败和快速恢复</li>
<li>回退和优雅的降级</li>
<li>近实时监控、报警和操作控制</li>
</ul>
<h1 id="未完待续"><a href="#未完待续" class="headerlink" title="未完待续"></a>未完待续</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/06/22/Java-Lambda表达式入门/" itemprop="url">
                  Java Lambda表达式入门
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-22T23:37:37+08:00" content="2016-06-22">
              2016-06-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/JAVA/" itemprop="url" rel="index">
                    <span itemprop="name">JAVA</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/06/22/Java-Lambda表达式入门/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/22/Java-Lambda表达式入门/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Lambda表达式语法"><a href="#Lambda表达式语法" class="headerlink" title="Lambda表达式语法"></a>Lambda表达式语法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1. (parameters) -&gt; expression</div><div class="line"></div><div class="line">2. (parameters) -&gt; &#123;statements;&#125;</div></pre></td></tr></table></figure>
<h4 id="Lambda作用域"><a href="#Lambda作用域" class="headerlink" title="Lambda作用域"></a>Lambda作用域</h4><p>Lambda表达式可以访问 外部作用域带有final修饰符的变量、实例变量和静态变量</p>
<ul>
<li><p>访问本地变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">int tempNum = 5; //tempNum将被隐式地转换为final类型；</div><div class="line">List&lt;Integer&gt; nums = Arrays.asList(1,2,3);</div><div class="line">nums.stream.map(num -&gt; num + tempNum);</div></pre></td></tr></table></figure>
</li>
<li><p>访问域变量和静态变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public class LambdaTest &#123;</div><div class="line">    static int outStaticNum;</div><div class="line">    int outNum;</div><div class="line"></div><div class="line">    void testScope() &#123;</div><div class="line">        List&lt;Integer&gt; nums = Arrays.asList(1, 2, 3, 4);</div><div class="line">        nums.stream().forEach(num -&gt; &#123;</div><div class="line">            outNum = 33;</div><div class="line">            outNum = outNum + num; //outNum值可以改变，非final</div><div class="line">            System.out.println(outNum + num);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        System.out.println(&quot; =================== &quot;);</div><div class="line">        nums.stream().forEach(num -&gt; &#123;</div><div class="line">            outStaticNum = 73;</div><div class="line">            System.out.println(outStaticNum + num);</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>相比本地变量，对于实例变量和静态变量，lambda表达式既有读的权限，也有写的权限；</p>
</li>
</ul>
<h4 id="内置函数式接口"><a href="#内置函数式接口" class="headerlink" title="内置函数式接口"></a>内置函数式接口</h4><ul>
<li><p>Predicates</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//Predicate接口是返回boolean值的接口；</div><div class="line">Predicate&lt;String&gt; predicate = (s) -&gt; s.length() &gt; 0;</div></pre></td></tr></table></figure>
</li>
<li><p>Functions</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//接收一个参数，返回一个结果</div><div class="line">Function&lt;String,Integer&gt; toInteger = Integer::valueOf;</div><div class="line">Function&lt;String,String&gt; backToString = toInteger.andThen(String::valueOf);</div><div class="line"></div><div class="line">backToString.apply(&quot;123&quot;);</div></pre></td></tr></table></figure>
</li>
<li><p>Suppliers</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 根据给定的范型返回一个结果，不需要传入参数</div><div class="line">Supplier&lt;Person&gt; personSupplier = Person::new;</div><div class="line">personSupplier.get(); //new Person</div></pre></td></tr></table></figure>
</li>
<li><p>Consumers</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//Consumer接口代表一类只接收一个参数的操作</div><div class="line">Consumer&lt;Person&gt; greeter = (p) -&gt; System.out.println(&quot;Hello&quot; + p.getFirstName());</div><div class="line">greeter.accept(new Person(&quot;Lucy&quot;,&quot;Tom&quot;));</div></pre></td></tr></table></figure>
</li>
<li><p>Comparators</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Comparator&lt;Person&gt; comparator = (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName);</div><div class="line"></div><div class="line">Person p1 = new Person(&quot;John&quot;, &quot;Doe&quot;);</div><div class="line">Person p2 = new Person(&quot;Alice&quot;, &quot;Wonderland&quot;);</div><div class="line"></div><div class="line">comparator.compare(p1, p2);             // &gt; 0</div><div class="line">comparator.reversed().compare(p1, p2);  // &lt; 0</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Lambda表达式简单例子"><a href="#Lambda表达式简单例子" class="headerlink" title="Lambda表达式简单例子"></a>Lambda表达式简单例子</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">1. () -&gt; 5 //不需要参数，返回值为5；</div><div class="line"></div><div class="line">2. x -&gt; 2 * x //接收一个参数(数字类型)，返回其2倍的值</div><div class="line"></div><div class="line">3. (x,y) -&gt; x - y //接收2个参数，并返回他们的差值</div><div class="line"></div><div class="line">4. (String s) -&gt; System.out.println(s) //接收一个string对象，并在控制台打印，不返回任何值</div></pre></td></tr></table></figure>
<h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">String str[] = [&quot;KUFA&quot;,&quot;LINDA&quot;,&quot;DAVID&quot;];</div><div class="line">List&lt;String&gt; strs = Arrays.asList(str);</div><div class="line"></div><div class="line">//以前遍历方式</div><div class="line">for(String s : strs)&#123;</div><div class="line">  System.out.println(s + &quot; , &quot;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">//lambda表达式</div><div class="line">strs.forEach((s) -&gt; System.out.println(s + &quot;,&quot;));</div></pre></td></tr></table></figure>
<h4 id="使用Lambda排序集合"><a href="#使用Lambda排序集合" class="headerlink" title="使用Lambda排序集合"></a>使用Lambda排序集合</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; names = Arrays.asList(&quot;Tom&quot;,&quot;Luck&quot;,&quot;Jane&quot;,&quot;Wiliam&quot;);</div><div class="line"></div><div class="line">//从小到大排序</div><div class="line">names.stream().sorted((name1,name2) -&gt; name1.compareTo(name2)).forEach(System.out::println);</div></pre></td></tr></table></figure>
<h4 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; names = Arrays.asList(&quot;Tom&quot;,&quot;Luck&quot;,&quot;Jane&quot;,&quot;Wiliam&quot;);</div><div class="line"></div><div class="line">names.stream().filter(name -&gt;!name.equals(&quot;Tom&quot;)).forEach(System.out::println);</div></pre></td></tr></table></figure>
<h4 id="使用转换函数，对Stream流中的元素，进行转换操作"><a href="#使用转换函数，对Stream流中的元素，进行转换操作" class="headerlink" title="使用转换函数，对Stream流中的元素，进行转换操作"></a>使用转换函数，对Stream流中的元素，进行转换操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; names = Arrays.asList(&quot;Tom&quot;,&quot;Luck&quot;,&quot;Jane&quot;,&quot;Wiliam&quot;);</div><div class="line"></div><div class="line">names.stream().map( name -&gt; name.concat(&quot; -- &quot;)).forEach(System.out::println);</div></pre></td></tr></table></figure>
<h4 id="聚合"><a href="#聚合" class="headerlink" title="聚合"></a>聚合</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; names = Arrays.asList(&quot;Tom&quot;,&quot;Luck&quot;,&quot;Jane&quot;,&quot;Wiliam&quot;);</div><div class="line"></div><div class="line">//Reduce操作 类似于(A,B,C,D) -&gt; A = A + B； A = A + C； A = A + D；最后输出A</div><div class="line">String reduceName = names.stream().reduce((name1,name2) -&gt; name1 = name1.concat(&quot;-&quot;+name2)).orElseThrow(() -&gt; new IllegalArgumentException(&quot;无法输出结果!&quot;));</div><div class="line"></div><div class="line">System.out.println(reduceName);</div></pre></td></tr></table></figure>
<h4 id="匹配"><a href="#匹配" class="headerlink" title="匹配"></a>匹配</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; names = Arrays.asList(&quot;Tom&quot;,&quot;Luck&quot;,&quot;Jane&quot;,&quot;Wiliam&quot;);</div><div class="line">//任意匹配其中一个</div><div class="line">Boolean isExistAny = names.stream().anyMatch(name -&gt; name.equals(&quot;Tom&quot;));</div><div class="line"></div><div class="line">//所有元素均匹配</div><div class="line">Boolean isExistAll = names.stream().allMatch(name -&gt; name.equals(&quot;Tom&quot;));</div><div class="line"></div><div class="line">//没有一个元素匹配</div><div class="line">Boolean isExistNone = names.stream().noneMatch(name -&gt; name.equals(&quot;Tom&quot;));</div><div class="line">System.out.println(&quot;isExistAny = &quot; + isExistAny + &quot; isExistAll = &quot; + isExistAll + &quot; isExistNone = &quot; +isExistNone);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://oc5a5l0a0.bkt.clouddn.com/16-10-7/31807945.jpg"
               alt="流云" />
          <p class="site-author-name" itemprop="name">流云</p>
          <p class="site-description motion-element" itemprop="description">每天进步一点</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">144</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">29</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">流云</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"jianwl"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
