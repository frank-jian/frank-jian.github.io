---
title: MYSQL数据库设计准则
date: 2016-05-03 17:23:11
tags: [SQL]
categories: SQL
---
设计数据库基本准则
1. 将同一类型的数据放于同一张表中;
2. 避免保存冗余数据
3. 避免修改、插入、删除不规则;
4. 使用原子列表即对每一行的每一个属性只存一个数据;
5. 避免多个空属性的设计
6. 尽量避免使用可变长度列(varchar、text)，如果字段长度固定(char),速度更快一点，但要多占点空间。
7. 通过简化权限，来提高查询速度
8. 表的优化，随着更新和删除操作的发生，数据将变得支离破碎，通过OPTIMIZE TABLE tablename命令来修复表
9. 不要创建不必要的索引；
10. 在尽可能多的地方使用列的默认值，这样可以减少执行INSERT语句所花的时间。


举例说明：
```
设计4张表
CUSTOMERS: customerid、name、address、city
ORDERS：orderid、customerid、amount、date
BOOKS:isbn、author、title、price
ORDER_ITEMS：orderid、isbn、quatity

#为何不将address放于orders表中？
1、假设一个用户下了多个订单，那么每个订单中都会出现用户的地址，重复存储，浪费空间;(冗余数据)
2、假设用户换了地址，需要将每个订单中用户的地址进行更改；（修改不规则）
3、每次在处理订单时，都需要插入julia的信息，当用户搬家出现两个地址时，不知道以哪个为准；（插入不规则）
4、当用户收到货时，将订单从数据库中删除，那么意味着我们没有用户的地址记录不能再为它提供服务了;(删除不规则)

# 假设我们需要记录每本书的书评;
有两种方式:假设这家书店，只有一个书评员
1、BOOKS表中添加一个字段，Review;
2、创建一个新表BOOKS_REVIEWS:isbn、review

假设书库太大，评书员只评论了一部分书籍，使用第一种方式，会出现大量书评为空的记录；而使用第二种方式，只存储有书评的书籍;
```

Web数据库架构
![](/images/Web服务器架构.jpg)
